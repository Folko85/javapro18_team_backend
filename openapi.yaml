{
  "openapi": "3.0.1",
  "info":
    { "title": "OpenAPI definition",
      "version": "v0" },
  "servers":
    [
      { "url": "http://localhost:8086",
        "description": "Generated server url"
      }
    ],
  "paths":
    { "/api/v1/users/me":
        { "get":
            { "tags":
                [
                    "user-controller"
                ],
              "operationId": "getMe",
              "responses":
                { "200":
                    { "description": "OK",
                      "content":
                        { "*/*":
                            { "schema":
                                { "$ref": "#/components/schemas/UserRestResponse"
                                }
                            }
                        }
                    }
                }
            },
          "put":
            { "tags": [ "user-controller" ],"operationId": "updateUser","requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UserRequestModel" } } },"required": true },"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "$ref": "#/components/schemas/UserRestResponse" } } } } } },"delete": { "tags": [ "user-controller" ],"operationId": "deleteUser","responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "$ref": "#/components/schemas/UserDeleteResponse" } } } } } } },"/api/v1/account/recovery": { "put": { "tags": [ "api-account-controller" ],"operationId": "recoverySend","requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/RecoveryRequest" } } },"required": true },"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "type": "string" } } } } } } },"/api/v1/account/password/set": { "put": { "tags": [ "api-account-controller" ],"operationId": "passwdChange","requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/PasswdChangeRequest" } } },"required": true },"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "$ref": "#/components/schemas/AccountResponse" } } } } } } },"/api/v1/account/notifications": { "put": { "tags": [ "api-account-controller" ],"operationId": "notifications","requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/NotificationsRequest" } } },"required": true },"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "$ref": "#/components/schemas/AccountResponse" } } } } } } },"/api/v1/account/email": { "put": { "tags": [ "api-account-controller" ],"operationId": "eMailChange","requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/EMailChangeRequest" } } },"required": true },"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "$ref": "#/components/schemas/AccountResponse" } } } } } } },"/api/v1/friends/{id}": { "post": { "tags": [ "friendship-controller" ],"operationId": "add","parameters": [ { "name": "id","in": "path","required": true,"schema": { "type": "integer","format": "int32" } } ],"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "type": "object" } } } } } },"delete": { "tags": [ "friendship-controller" ],"operationId": "delete","parameters": [ { "name": "id","in": "path","required": true,"schema": { "type": "integer","format": "int32" } } ],"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "type": "object" } } } } } } },"/api/v1/auth/login": { "post": { "tags": [ "auth-controller" ],"operationId": "login","requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/LoginRequest" } } },"required": true },"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "$ref": "#/components/schemas/AuthResponse" } } } } } } },"/api/v1/account/register": { "post": { "tags": [ "api-account-controller" ],"operationId": "register","requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/RegisterRequest" } } },"required": true },"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "$ref": "#/components/schemas/AccountResponse" } } } } } } },"/api/v1/users/{id}": { "get": { "tags": [ "user-controller" ],"operationId": "getUserById","parameters": [ { "name": "id","in": "path","required": true,"schema": { "type": "string" } } ],"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "$ref": "#/components/schemas/UserRestResponse" } } } } } } },"/api/v1/post": { "get": { "tags": [ "post-controller" ],"operationId": "getPosts","parameters": [ { "name": "text","in": "query","required": false,"schema": { "type": "string","default": "" } },{ "name": "date_from","in": "query","required": false,"schema": { "type": "integer","format": "int64","default": 0 } },{ "name": "date_to","in": "query","required": false,"schema": { "type": "integer","format": "int64","default": 1701214256861 } },{ "name": "offset","in": "query","required": false,"schema": { "type": "integer","format": "int32","default": 0 } },{ "name": "itemPerPage","in": "query","required": false,"schema": { "type": "integer","format": "int32","default": 20 } } ],"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "$ref": "#/components/schemas/PostResponse" } } } } } } },"/api/v1/platform/countries": { "get": { "tags": [ "Контроллер для получения списка стран и подгрузки городов для страны" ],"summary": "Получение списка стран","operationId": "getCountries","responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "type": "array","items": { "$ref": "#/components/schemas/Country" } } } } } } } },"/api/v1/platform/cities": { "get": { "tags": [ "Контроллер для получения списка стран и подгрузки городов для страны" ],"summary": "Запрос списка городов в количестве itemPerPage содержащих city","operationId": "getCities","parameters": [ { "name": "countryId","in": "query","required": true,"schema": { "type": "integer","format": "int32" } },{ "name": "city","in": "query","required": true,"schema": { "type": "string" } },{ "name": "itemPerPage","in": "query","required": true,"schema": { "type": "integer","format": "int32" } } ],"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "type": "array","items": { "$ref": "#/components/schemas/CityDTO" } } } } } } } },"/api/v1/friends": { "get": { "tags": [ "friendship-controller" ],"operationId": "findFriend","parameters": [ { "name": "getFriendsListRequest","in": "query","required": true,"schema": { "$ref": "#/components/schemas/GetFriendsListRequest" } } ],"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "type": "object" } } } } } } },"/api/v1/feeds": { "get": { "tags": [ "post-controller" ],"operationId": "getFeeds","parameters": [ { "name": "text","in": "query","required": false,"schema": { "type": "string","default": "" } },{ "name": "offset","in": "query","required": false,"schema": { "type": "integer","format": "int32","default": 0 } },{ "name": "itemPerPage","in": "query","required": false,"schema": { "type": "integer","format": "int32","default": 20 } } ],"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "$ref": "#/components/schemas/PostResponse" } } } } } } },"/api/v1/auth/logout": { "get": { "tags": [ "auth-controller" ],"operationId": "logout","responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "$ref": "#/components/schemas/AccountResponse" } } } } } } },"/api/v1/account/registration_complete": { "get": { "tags": [ "api-account-controller" ],"operationId": "registrationComplete","parameters": [ { "name": "key","in": "query","required": true,"schema": { "type": "string" } },{ "name": "eMail","in": "query","required": true,"schema": { "type": "string" } } ],"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "type": "string" } } } } } } },"/api/v1/account/recovery_complete": { "get": { "tags": [ "api-account-controller" ],"operationId": "recoveryComplete","parameters": [ { "name": "key","in": "query","required": true,"schema": { "type": "string" } },{ "name": "eMail","in": "query","required": true,"schema": { "type": "string" } } ],"responses": { "200": { "description": "OK","content": { "*/*": { "schema": { "type": "string" } } } } } } } },"components": { "schemas": { "UserRequestModel": { "type": "object","properties": { "phone": { "type": "string" },"photo_id": { "type": "string" },"about": { "type": "string" },"town_id": { "type": "integer","format": "int32" },"country_id": { "type": "integer","format": "int32" },"first_name": { "type": "string" },"last_name": { "type": "string" },"birth_date": { "type": "integer","format": "int64" },"messages_permission": { "type": "string","enum": [ "ALL","FRIENDS" ] } } },"Place": { "type": "object","properties": { "id": { "type": "integer","format": "int32" },"title": { "type": "string" } } },"UserRest": { "type": "object","properties": { "id": { "type": "integer","format": "int32" },"phone": { "type": "string" },"photo": { "type": "string" },"about": { "type": "string" },"city": { "$ref": "#/components/schemas/Place" },"country": { "$ref": "#/components/schemas/Place" },"error": { "type": "string" },"first_name": { "type": "string" },"last_name": { "type": "string" },"reg_date": { "type": "integer","format": "int64" },"birth_date": { "type": "string","format": "date" },"email": { "type": "string" },"messages_permission": { "type": "string","enum": [ "ALL","FRIENDS" ] },"last_online_time": { "type": "integer","format": "int64" },"is_blocked": { "type": "boolean" } } },"UserRestResponse": { "type": "object","properties": { "error": { "type": "string" },"timestamp": { "type": "integer","format": "int64" },"data": { "$ref": "#/components/schemas/UserRest" } } },"RecoveryRequest": { "type": "object","properties": { "email": { "type": "string" } } },"PasswdChangeRequest": { "type": "object","properties": { "token": { "type": "string" },"password": { "type": "string" } } },"AccountResponse": { "type": "object","properties": { "error": { "type": "string" },"timestamp": { "type": "string","format": "date-time" },"data": { "type": "object","additionalProperties": { "type": "string" } } } },"NotificationsRequest": { "type": "object","properties": { "enable": { "type": "boolean" },"notification_type": { "type": "string" } } },"EMailChangeRequest": { "type": "object","properties": { "email": { "type": "string" } } },"LoginRequest": { "type": "object","properties": { "password": { "type": "string" },"email": { "type": "string" } } },"AuthData": { "type": "object","properties": { "id": { "type": "integer","format": "int32" },"phone": { "type": "string" },"photo": { "type": "string" },"about": { "type": "string" },"city": { "$ref": "#/components/schemas/Place" },"country": { "$ref": "#/components/schemas/Place" },"token": { "type": "string" },"first_name": { "type": "string" },"last_name": { "type": "string" },"reg_date": { "type": "string","format": "date-time" },"birth_date": { "type": "integer","format": "int64" },"email": { "type": "string" },"messages_permission": { "type": "string" },"last_online_time": { "type": "string","format": "date-time" },"is_blocked": { "type": "boolean" } } },"AuthResponse": { "type": "object","properties": { "error": { "type": "string" },"timestamp": { "type": "string","format": "date-time" },"data": { "$ref": "#/components/schemas/AuthData" } } },"RegisterRequest": { "type": "object","properties": { "firstName": { "type": "string" },"lastName": { "type": "string" },"code": { "type": "string" },"email": { "type": "string" },"passwd1": { "type": "string" },"passwd2": { "type": "string" } } },"CommentData": { "type": "object","properties": { "id": { "type": "integer","format": "int32" },"time": { "type": "string","format": "date-time" },"parent_id": { "type": "integer","format": "int32" },"comment_text": { "type": "string" },"post_id": { "type": "integer","format": "int32" },"author_id": { "type": "integer","format": "int32" },"is_blocked": { "type": "boolean" } } },"PostData": { "type": "object","properties": { "id": { "type": "integer","format": "int32" },"time": { "type": "string","format": "date-time" },"author": { "$ref": "#/components/schemas/AuthData" },"title": { "type": "string" },"likes": { "type": "integer","format": "int32" },"comments": { "type": "array","items": { "$ref": "#/components/schemas/CommentData" } },"post_text": { "type": "string" },"is_blocked": { "type": "boolean" } } },"PostResponse": { "type": "object","properties": { "error": { "type": "string" },"timestamp": { "type": "string","format": "date-time" },"total": { "type": "integer","format": "int32" },"offset": { "type": "integer","format": "int32" },"perPage": { "type": "integer","format": "int32" },"data": { "type": "array","items": { "$ref": "#/components/schemas/PostData" } } } },"Country": { "type": "object","properties": { "id": { "type": "integer","format": "int32" },"title": { "type": "string" } } },"CityDTO": { "type": "object","properties": { "id": { "type": "integer","description": "Идентификатор города","format": "int32" },"title": { "type": "string","description": "Название города города" } },"description": "Список городов" },"GetFriendsListRequest": { "type": "object","properties": { "name": { "type": "string" },"offset": { "type": "integer","format": "int32" },"itemPerPage": { "type": "integer","format": "int32" } } },"UserDeleteResponse": { "type": "object","properties": { "error": { "type": "string" },"timestamp": { "type": "integer","format": "int64" },"data": { "type": "object","additionalProperties": { "type": "string" } } } } } } }