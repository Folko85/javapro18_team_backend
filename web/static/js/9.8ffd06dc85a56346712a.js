webpackJsonp([9],{"8N00":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Dd8w"),a=s.n(r),i=s("NYxO"),n=s("+cKO"),o=s("znC5"),m=s("/QaM"),l={name:"CommentsField",props:{value:{type:String,default:""},v:{type:Object,required:!0},label:{type:String,default:"Комментарий"},id:{type:String,required:!0}},computed:{comments:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},i18n:{messages:{en:{errorRequired:"Required field",errorMin:"Minimum number of characters"},ru:{errorRequired:"Обязательно поле",errorMin:"Минимальное количество символов"}}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form__group",class:{fill:e.comments}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comments,expression:"comments"}],staticClass:"form__input",class:{invalid:e.v.$dirty&&!e.v.required||e.v.$dirty&&!e.v.minLength},attrs:{id:e.id,name:"comments"},domProps:{value:e.comments},on:{change:function(t){return e.v.$touch()},input:function(t){t.target.composing||(e.comments=t.target.value)}}}),s("label",{staticClass:"form__label",attrs:{for:e.id}},[e._v(e._s(e.label))]),e.v.$dirty&&!e.v.required?s("span",{staticClass:"form__error"},[e._v(e._s(e.$t("errorRequired")))]):e.v.$dirty&&!e.v.minLength?s("span",{staticClass:"form__error"},[e._v(e._s(e.$t("errorMin"))+" "+e._s(e.v.$params.minLength.min))]):e._e()])},staticRenderFns:[]},d=s("VU/8")(l,u,!1,null,null,null).exports,c={name:"Support",components:{NameField:o.a,EmailField:m.a,CommentsField:d},data:function(){return{email:"",firstName:"",lastName:"",message:"",isSendError:!1}},computed:a()({},Object(i.c)("global/support",["supportMessage"]),{redirectUrl:function(){return this.$route.query.redirect}}),methods:a()({},Object(i.d)("global/support",["updateSupportMessage"]),Object(i.b)("global/support",["sendMessage"]),Object(i.b)("profile/info",["apiInfo"]),{submitHandler:function(){var e=this;if(this.$v.$invalid)this.$v.$touch();else{var t={e_mail:this.email,first_name:this.firstName,last_name:this.lastName,message:this.message};this.sendMessage(t).then(function(){return e.resetForm()}).catch(function(){return e.isSendError=!0})}},resetForm:function(){this.$refs.form.reset(),this.email="",this.firstName="",this.lastName="",this.message="",this.$v.$reset(),this.hideSendMessages()},hideSendMessages:function(){var e=this;setTimeout(function(){e.updateSupportMessage(null),e.isSendError=!1},3e4)}}),validations:{email:{required:n.required,email:n.email},firstName:{required:n.required,minLength:Object(n.minLength)(3)},lastName:{required:n.required,minLength:Object(n.minLength)(3)},message:{required:n.required,minLength:Object(n.minLength)(10)}},i18n:{messages:{en:{title:"Contacting support",login:"Sign in",send:"Send",name:"Name",lastname:"Last name",message:"Message",successMessage:"Your message has been sent.",errorMessage:"Oops, something went wrong."},ru:{title:"Обращение в поддержку",login:"Войти",send:"Отправить",name:"Имя",lastname:"Фамилия",message:"Сообщение",successMessage:"Ваше сообщение отправлено.",errorMessage:"Упс... Что то пошло не так."}}}},p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"support"},[s("h2",{staticClass:"support__title form__title"},[e._v(e._s(e.$t("title")))]),s("form",{ref:"form",staticClass:"support__form",on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[s("name-field",{attrs:{id:"support-firstName",v:e.$v.firstName,label:e.$t("name")},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),s("name-field",{attrs:{id:"support-lastName",v:e.$v.lastName,label:e.$t("lastname")},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),s("email-field",{attrs:{id:"support-email",v:e.$v.email},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("comments-field",{attrs:{id:"support-message",v:e.$v.message,label:e.$t("message")},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),s("div",{staticClass:"support__action"},[s("button-hover",{attrs:{tag:"button",type:"submit",variant:"white"}},[e._v(e._s(e.$t("send")))]),s("router-link",{staticClass:"support__link",attrs:{to:{name:"Login"}}},[e._v(e._s(e.$t("login")))])],1)],1),s("p",{directives:[{name:"show",rawName:"v-show",value:e.supportMessage,expression:"supportMessage"}],staticClass:"form__title support__message"},[e._v(e._s(e.$t("successMessage")))]),s("p",{directives:[{name:"show",rawName:"v-show",value:e.isSendError,expression:"isSendError"}],staticClass:"form__title support__message support__message_error"},[e._v(e._s(e.$t("errorMessage")))])])},staticRenderFns:[]};var v=s("VU/8")(c,p,!1,function(e){s("daXS")},"data-v-0e71dfbd",null);t.default=v.exports},daXS:function(e,t){},znC5:function(e,t,s){"use strict";var r={name:"NameField",props:{value:{type:String,default:""},v:{type:Object,required:!0},label:{type:String,default:"Имя"},id:{type:String,required:!0}},computed:{name:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},i18n:{messages:{en:{errorRequired:"Required field",errorMin:"Minimum number of characters"},ru:{errorRequired:"Обязательно поле",errorMin:"Минимальное количество символов"}}}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form__group",class:{fill:e.name.length>0}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form__input",class:{invalid:e.v.$dirty&&!e.v.required||e.v.$dirty&&!e.v.minLength},attrs:{id:e.id,name:"name"},domProps:{value:e.name},on:{change:function(t){return e.v.$touch()},input:function(t){t.target.composing||(e.name=t.target.value)}}}),s("label",{staticClass:"form__label",attrs:{for:e.id}},[e._v(e._s(e.label))]),e.v.$dirty&&!e.v.required?s("span",{staticClass:"form__error"},[e._v(e._s(e.$t("errorRequired")))]):e.v.$dirty&&!e.v.minLength?s("span",{staticClass:"form__error"},[e._v(e._s(e.$t("errorMin"))+" "+e._s(e.v.$params.minLength.min))]):e._e()])},staticRenderFns:[]},i=s("VU/8")(r,a,!1,null,null,null);t.a=i.exports}});
//# sourceMappingURL=9.8ffd06dc85a56346712a.js.map