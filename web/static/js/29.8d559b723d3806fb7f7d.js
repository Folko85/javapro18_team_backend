webpackJsonp([29],{"gf/L":function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Dd8w"),o=e.n(a),r=e("NYxO"),n=e("+cKO"),i=e("TYx6"),d=e("i53X"),w={name:"ShiftPassword",components:{PasswordField:i.a,PasswordRepeatField:d.a},data:function(){return{password:"",passwordTwo:""}},methods:o()({},Object(r.b)("profile/info",["deleteInfo"]),Object(r.b)("auth/api",["logout"]),Object(r.b)("profile/account",["passwordSet"]),{submitHandler:function(){var s=this;this.$v.$invalid?this.$v.$touch():this.passwordSet({password:this.passwordTwo,token:this.$store.state.auth.api.token}).then(function(){s.deleteInfo().then(function(){s.logout().then(function(){s.$router.push({name:"Login"})})})})}}),validations:{password:{required:n.required,minLength:Object(n.minLength)(8)},passwordTwo:{required:n.required,minLength:Object(n.minLength)(8),sameAsPassword:Object(n.sameAs)("password")}},i18n:{messages:{en:{password:"Change password",change:"Change"},ru:{password:"Смена пароля",change:"Сменить"}}}},c={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"shift-password"},[e("form",{staticClass:"shift-password__form",on:{submit:function(t){return t.preventDefault(),s.submitHandler(t)}}},[e("div",{staticClass:"form__block"},[e("h4",{staticClass:"form__subtitle"},[s._v(s._s(s.$t("password")))]),e("password-field",{class:{checked:s.$v.password.required&&s.$v.passwordTwo.sameAsPassword},attrs:{id:"shift-password",v:s.$v.password,info:"info",registration:"registration"},model:{value:s.password,callback:function(t){s.password=t},expression:"password"}}),e("password-repeat-field",{class:{checked:s.$v.password.required&&s.$v.passwordTwo.sameAsPassword},attrs:{id:"shift-repeat-password",v:s.$v.passwordTwo},model:{value:s.passwordTwo,callback:function(t){s.passwordTwo=t},expression:"passwordTwo"}})],1),e("div",{staticClass:"shift-password__action"},[e("button-hover",{attrs:{tag:"button",type:"submit",variant:"white"}},[s._v(s._s(s.$t("change")))])],1)])])},staticRenderFns:[]};var p=e("VU/8")(w,c,!1,function(s){e("yBh0")},null,null);t.default=p.exports},yBh0:function(s,t){}});
//# sourceMappingURL=29.8d559b723d3806fb7f7d.js.map