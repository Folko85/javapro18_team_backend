webpackJsonp([13],{"4ufQ":function(t,e){},TwRG:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Xxa5"),a=i.n(n),r=i("exGp"),o=i.n(r),s=i("Dd8w"),l=i.n(s),u=i("NYxO"),c=i("+cKO"),d=i("TYx6"),f=i("/QaM"),m=i("vl5P"),p={name:"Login",components:{PasswordField:d.a,EmailField:f.a},data:function(){return{email:"",password:""}},computed:{redirectUrl:function(){return this.$route.query.redirect}},methods:l()({},Object(u.b)("auth/api",["login"]),Object(u.b)("profile/info",["apiInfo"]),{submitHandler:function(){var t=this;this.$v.$invalid?this.$v.$touch():this.login({email:this.email,password:this.password}).then(function(){t.apiInfo().then(o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)();case 2:t.$router.push({name:t.redirectUrl||"News"});case 3:case"end":return e.stop()}},e,t)})))}).catch(function(t){})}}),validations:{email:{required:c.required,email:c.email},password:{required:c.required,minLength:Object(c.minLength)(8)}},i18n:{messages:{en:{title:"Log in",login:"Sign in",forgot:"Forgot your password?"},ru:{title:"Войдите в аккаунт",login:"Войти",forgot:"Забыли пароль?"}}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("h2",{staticClass:"login__title form__title"},[t._v(t._s(t.$t("title")))]),i("form",{staticClass:"login__form",on:{submit:function(e){return e.preventDefault(),t.submitHandler(e)}}},[i("email-field",{attrs:{id:"login-email",v:t.$v.email},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),i("password-field",{attrs:{id:"login-password",v:t.$v.password,autocomplete:"current-password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("div",{staticClass:"login__action"},[i("button-hover",{attrs:{tag:"button",type:"submit",variant:"white"}},[t._v(t._s(t.$t("login")))]),i("router-link",{staticClass:"login__link",attrs:{to:{name:"Forgot"}}},[t._v(t._s(t.$t("forgot")))])],1)],1)])},staticRenderFns:[]};var g=i("VU/8")(p,v,!1,function(t){i("4ufQ")},"data-v-a17f906e",null);e.default=g.exports}});
//# sourceMappingURL=13.4ebc19b57c13d6095e7d.js.map